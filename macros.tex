%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Custom LaTeX additions
%  Ananth Raghunathan
%  ananthr@cs.stanford.edu
%  Also available at:
%  http://github.com/ananthr/tex-macros/blob/master/macros.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% -- uncomment to enable centered section titles --
%\usepackage[bf, center]{titlesec}

\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{color}
\usepackage{amsmath,amssymb,amsthm}
\usepackage[colorlinks=true, linkcolor=blue, citecolor=blue]{hyperref}
% -- only use if you want back references --
%\usepackage[colorlinks=true, linkcolor=blue, citecolor=blue, backref=section]{hyperref}
\usepackage{fullpage}
\usepackage{enumerate}
\usepackage{verbatim}

% -- place /squish in the beginning of itemize to squish
% -- end with /squishend
\newcommand{\squish}{
      \setlength{\topsep}{0pt}
      \setlength{\itemsep}{0ex}
      \vspace{-1ex}
      \setlength{\parskip}{0pt}}
\newcommand{\squishend}{\vskip -1ex\relax}

% -- using autoref nicely; requires hyperref
\def\sectionautorefname{Section}
\def\claimautorefname{Claim}
\def\theoremautorefname{Theorem}
\def\lemmaautorefname{Lemma}
\def\subsectionautorefname{Section}
\def\figureautorefname{Figure}
\def\equationautorefname{Eq.}
\def\appendixautorefname{App.}
\def\footnoteautorefname{Footnote}

% -- various font styles --
%\usepackage{times}
%\usepackage{sansmath}
%\sansmath
%\usepackage{mathptmx}
%\usepackage[charter]{mathdesign}

% -- nicer typewriter text --
\renewcommand{\ttdefault}{cmtt}
\renewcommand{\sfdefault}{cmss}

% -- custom header/footer stuff --
\newcommand{\mysec}[1]{\noindent{\large{\bf #1}} \bigskip}
\newcommand{\mypar}[1]{\noindent{\bf #1} \medskip}
\newcommand{\myipar}[1]{\noindent \textbf{\emph{#1}} \medskip}
\newcommand{\mybf}[1]{\medskip \noindent{\bf #1}\ }
\newcommand{\myendsec}{\begin{center} {\bf ------------ $\S$ ------------} \end{center}}

% -- my line for delineating sections --
\newcommand{\myline}{\begin{center}  --------- \S\ --------- \end{center}}

% -- better template for solutions and sub-parts in solutions --
% -- usage: \answer{ \subanswer{Part 1 answer} \subanswer{Part 2 subanswer
%  ...}}
% -- counter begins at zero, to start at 1, enter
%  \stepcounter{answercounter} at the beginning of file
\newcounter{answercounter}
\newcounter{subcounter}
\stepcounter{subcounter}
\newcommand{\answer}[1]{{\bf Answer
\theanswercounter.}\stepcounter{answercounter}\setcounter{subcounter}{1}
#1 \begin{flushright}\qed \end{flushright} \bigskip}
\newcommand{\subanswer}[1]{{\bf
(\alph{subcounter})}\stepcounter{subcounter} #1 \medskip}

% -- misc stuff --
%\newcommand{\comment}[1]{}
%\newcommand{\debug}[1]{$\big($\textcolor{red}{{\bf Comment: }#1}$\big)$}
\newcommand{\debug}[1]{}

% -- amsthm package additions --
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{claim}{Claim}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{assumption}{Assumption}[section]

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{conjecture}{Conjecture}[section]
\newtheorem{example}{Example}[section]

\theoremstyle{remark}
\newtheorem{note}{Note}
\newtheorem{fact}{Fact}
\newtheorem{remark}{Remark}
\newtheorem{case}{Case}

% -- better QED symbol --
%\renewcommand{\qedsymbol}{\ensuremath{\blackrectangle}}
\renewcommand{\qedsymbol}{\hspace{1pt}\rule[-1pt]{5pt}{9pt}}

% -- footnote with symbols --
\long\def\symbolfootnote[#1]#2{\begingroup%
\def\thefootnote{\fnsymbol{footnote}}\footnote[#1]{#2}\endgroup}
\newcommand{\cfootnote}[2]{\symbolfootnote[#1]{#2}}

% -- neater label items --
%\renewcommand{\labelitemi}{\textbf{--}}

% -- Better \mod support with amstex -- now called \imod --
\makeatletter
\def\imod#1{\allowbreak\mkern2mu({\operator@font mod}\,\,#1)}

% -- tabbed environment for algorithm descriptions --
\newenvironment{RawAlg}{\begin{tabbing}%
000 \= 000 \= 000 \= 000 \= 000 \= 000 \= 000 \= 000 \= 000 \= 000 \= \kill}%
{\end{tabbing}}
\newenvironment{alg}
{\begin{quote}\begin{RawAlg}}
{\end{RawAlg} \end{quote}}

% -- math symbols -- 
\newcommand{\Z}{\ensuremath{\mathbb{Z}}} % integers
\newcommand{\F}{\ensuremath{\mathbb{F}}} % field
\newcommand{\R}{\ensuremath{\mathbb{R}}} % reals
\newcommand{\ring}{\ensuremath{\mathbf{R}}} % ring
\newcommand{\C}{\ensuremath{\mathbb{C}}} % complex numbers
\newcommand{\Q}{\ensuremath{\mathbb{Q}}} % rationals
\newcommand{\G}{\ensuremath{\mathbb{G}}} % group
\newcommand{\zo}{\ensuremath{\{0,1\}}} % binary alphabet
\renewcommand{\iff}{\ensuremath{\Leftrightarrow}} 
\newcommand{\Iff}{\ensuremath{\Longleftrightarrow}}
\newcommand{\xor}{\ensuremath{\oplus}}
\newcommand{\Xor}{\ensuremath{\bigoplus}}
\newcommand{\andl}{\ensuremath{\wedge}}
\newcommand{\orl}{\ensuremath{\vee}}
\newcommand{\union}{\ensuremath{\cup}}
\newcommand{\intersect}{\ensuremath{\cap}}
\newcommand{\Union}{\ensuremath{\bigcup}}
\newcommand{\Intersect}{\ensuremath{\bigcap}}
\renewcommand{\implies}{\ensuremath{\Rightarrow}}
\newcommand{\Implies}{\ensuremath{\Longrightarrow}}
\newcommand{\deq}{\ensuremath{:=}} % defined as equal to
\renewcommand{\phi}{\ensuremath{\varphi}}
\newcommand{\dfrom}{\ensuremath{\stackrel{R}{\leftarrow}}} % drawn from 
\newcommand{\eps}{\ensuremath{\varepsilon}}
\newcommand{\set}[1]{\ensuremath{\left[#1\right]}}
\newcommand{\opt}{\ensuremath{\textsc{Opt}}}
\newcommand{\innerp}[2]{\ensuremath{\left\langle#1,#2\right\rangle}} % inner product
\newcommand{\norm}[1]{\ensuremath{\left\|#1 \right\|}} % vector norm
\newcommand{\maxnorm}[1]{\ensuremath{\left\|#1 \right\|}} % max norm
\newcommand{\gsnorm}[1]{\ensuremath{\|\widetilde{#1}\|}} % gram schmidt norm
\newcommand{\transpose}[1]{\ensuremath{{#1}^{\top}}}
\newcommand{\divides}{\ensuremath{\,|\,}} % number theory divides 
\newcommand{\st}[1]{\ensuremath{{#1}^*}}

% -- bold math symbols, for some reason --
\newcommand{\bolde}{\ensuremath{\mathbf{e}}}
\newcommand{\boldc}{\ensuremath{\mathbf{c}}}
\newcommand{\boldd}{\ensuremath{\mathbf{d}}}
\newcommand{\boldz}{\ensuremath{\mathbf{z}}}
\newcommand{\bolda}{\ensuremath{\mathbf{a}}}
\newcommand{\boldv}{\ensuremath{\mathbf{v}}}
\newcommand{\boldt}{\ensuremath{\mathbf{t}}}
\newcommand{\boldu}{\ensuremath{\mathbf{u}}}
\newcommand{\boldx}{\ensuremath{\mathbf{x}}}
\newcommand{\boldy}{\ensuremath{\mathbf{y}}}
\newcommand{\boldB}{\ensuremath{\mathbf{B}}}
\newcommand{\boldzero}{\ensuremath{\mathbf{0}}}

% -- text in math mode -- 
\newcommand{\ppoly}[0]{{\rm poly}}
\newcommand{\poly}[1]{\ensuremath{{\rm poly}\left(#1\right)}}
\newcommand{\polylog}[1]{\ensuremath{{\rm polylog}\left(#1\right)}}
\renewcommand{\Pr}{\ensuremath{{\rm Pr}}} % probability
\renewcommand{\th}{\ensuremath{^{\rm th}}} % ordinal numbers 
\newcommand{\mystar}[1]{\ensuremath{#1^*}}
\newcommand{\myexp}{\ensuremath{\mathbb{E}}} %expectation

% -- complexity classes -- 
\newcommand{\NP}{\ensuremath{\mathbf{NP}}}
\newcommand{\coNP}{\ensuremath{\mathbf{co{\sf -}NP}}}
\newcommand{\BPP}{\ensuremath{\mathbf{BPP}}}
\newcommand{\RP}{\ensuremath{\mathbf{RP}}}
\newcommand{\PSPACE}{\ensuremath{\mathbf{PSPACE}}}
\newcommand{\PH}{\ensuremath{\mathbf{PH}}}
\newcommand{\sharpP}{\ensuremath{\mathbf{\# P}}}
\newcommand{\E}{\ensuremath{\mathbf{E}}}
\renewcommand{\P}{\ensuremath{\mathbf{P}}}
\newcommand{\EXP}{\ensuremath{\mathbf{EXP}}}
\newcommand{\SAT}{\ensuremath{{\sf SAT}}}
\newcommand{\TQBF}{\ensuremath{{\sf TQBF}}}
\newcommand{\psp}{\ensuremath{\P/\ppoly}}
\newcommand{\logvc}{\textsc{Log-VC}~}
\newcommand{\logis}{\textsc{Log-IS}~}

% -- crypto related stuff -- 
\newcommand{\Exper}{\ensuremath{\mathsf{Exp}}} % experiment
\newcommand{\Funs}{\ensuremath{\mathsf{Funs}}} % functions
\newcommand{\Adv}{\ensuremath{\mathsf{Adv}}} % advantage
\newcommand{\PRFAdv}{\ensuremath{\mathsf{PRFAdv}}} % prf advantage
\newcommand{\TrapGen}{\ensuremath{\mathsf{TrapGen}}} 
\newcommand{\kSIS}{$k$-SIS\ } %k-SIS macro
\newcommand{\pp}{\ensuremath \mathsf{pp}} % public params
\newcommand{\pk}{\ensuremath \mathsf{pk}} % public key
\newcommand{\sk}{\ensuremath \mathsf{sk}} % secret key
\newcommand{\id}{\ensuremath \mathsf{id}} % secret key
\newcommand{\Enc}{\ensuremath \mathsf{Enc}} % encryption
\newcommand{\Dec}{\ensuremath \mathsf{Dec}} % decryption
\newcommand{\lperp}{\ensuremath{\Lambda^\perp_q}} % lambda perp
\newcommand{\lperpq}[1]{\ensuremath{\Lambda^\perp_{#1}}} 
\newcommand{\Coset}{\ensuremath{\mathbf{C}}}
\newcommand{\pair}{\ensuremath{\hat{e}}} % Weil pairing on Elliptic curves

% -- defining script adversaries and other things
\newcommand{\A}{\ensuremath{\mathcal{A}}}
\newcommand{\B}{\ensuremath{\mathcal{B}}}
\renewcommand{\O}{\ensuremath{\mathcal{O}}}
\newcommand{\Sim}{\ensuremath{\mathcal{S}}}
\newcommand{\M}{\ensuremath{\mathcal{M}}}
